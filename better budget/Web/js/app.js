class e{constructor(){this.budgetFeedback=document.querySelector(".budget-feedback"),this.expenseFeedback=document.querySelector(".expense-feedback"),this.budgetForm=document.getElementById("budget-form"),this.budgetInput=document.getElementById("budget-input"),this.budgetAmount=document.getElementById("budget-amount"),this.expenseAmount=document.getElementById("expense-amount"),this.balance=document.getElementById("balance"),this.balanceAmount=document.getElementById("balance-amount"),this.expenseForm=document.getElementById("expense-form"),this.expenseInput=document.getElementById("expense-input"),this.amountInput=document.getElementById("amount-input"),this.expenseList=document.getElementById("expense-list"),this.itemList=[],this.itemID=0}submitBudgetForm(){const e=this.budgetInput.value;if(""===e||e<0){this.budgetFeedback.classList.add("showItem"),this.budgetFeedback.innerHTML="<p>value cannot be empty or negative</p>";const e=this;setTimeout((function(){e.budgetFeedback.classList.remove("showItem")}),4e3)}else this.budgetAmount.textContent=e,this.budgetInput.value="",this.showBalance()}showBalance(){const e=this.totalExpense(),t=parseInt(this.budgetAmount.textContent)-e;this.balanceAmount.textContent=t,t<0?(this.balance.classList.remove("showGreen","showBlack"),this.balance.classList.add("showRed")):t>0?(this.balance.classList.remove("showRed","showBlack"),this.balance.classList.add("showGreen")):0==t&&(this.balance.classList.remove("showGreen","showRed"),this.balance.classList.add("showBlack"))}submitExpenseForm(){const e=this.expenseInput.value,t=this.amountInput.value;if(""===e||""===t||t<0){this.expenseFeedback.classList.add("showItem"),this.expenseFeedback.innerHTML="<p>values cannot be empty or negative</p>";const e=this;setTimeout((function(){e.expenseFeedback.classList.remove("showItem")}),4e3)}else{let n=parseInt(t);this.expenseInput.value="",this.amountInput.value="";let s={id:this.itemID,title:e,amount:n};this.itemID++,this.itemList.push(s),this.addExpense(s),this.showBalance()}}addExpense(e){const t=document.createElement("div");t.classList.add("expense"),t.innerHTML=`\n    <div class="expense-item d-flex justify-content-between align-items-baseline">\n\n         <h6 class="expense-title mb-0 text-uppercase list-item">-> ${e.title}</h6>\n         <h5 class="expense-amount mb-0 list-item">${e.amount}</h5>\n\n         <div class="expense-icons list-item">\n\n          <a href="#" class="edit-icon mx-2" data-id="${e.id}">\n           <i class="fas fa-edit"></i>\n          </a>\n          <a href="#" class="delete-icon" data-id="${e.id}">\n           <i class="fas fa-trash"></i>\n          </a>\n         </div>\n        </div>`,this.expenseList.appendChild(t)}totalExpense(){let e=0;return this.itemList.length>0&&(e=this.itemList.reduce((function(e,t){return e+=t.amount}),0)),this.expenseAmount.textContent=e,e}editExpense(e){let t=parseInt(e.dataset.id),n=e.parentElement.parentElement.parentElement;this.expenseList.removeChild(n);let s=this.itemList.filter((function(e){return e.id===t}));this.expenseInput.value=s[0].title,this.amountInput.value=s[0].amount;let i=this.itemList.filter((function(e){return e.id!==t}));this.itemList=i,this.showBalance()}deleteExpense(e){let t=parseInt(e.dataset.id),n=e.parentElement.parentElement.parentElement;this.expenseList.removeChild(n);let s=this.itemList.filter((function(e){return e.id!==t}));this.itemList=s,this.showBalance()}}document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("budget-form"),n=document.getElementById("expense-form"),s=document.getElementById("expense-list"),i=new e;t.addEventListener("submit",(function(e){e.preventDefault(),i.submitBudgetForm()})),n.addEventListener("submit",(function(e){e.preventDefault(),i.submitExpenseForm()})),s.addEventListener("click",(function(e){e.target.parentElement.classList.contains("edit-icon")?i.editExpense(e.target.parentElement):e.target.parentElement.classList.contains("delete-icon")&&i.deleteExpense(e.target.parentElement)}))}));